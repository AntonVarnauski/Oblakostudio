var P=document.querySelector(".production__filter"),S=Array.from(P.querySelectorAll(".filter__link")),F=Array.from(document.querySelectorAll(".production__item")),M=document.querySelectorAll(".cloud");for(let t=0;t<M.length;t++)window.addEventListener("mousemove",r=>{let c=r.clientX/window.innerWidth,a=r.clientY/window.innerHeight;t%2===1?M[t].style.transform=`translate(-${c*50*(t+.5)}px, -${a*50*(t+.5)}px)`:M[t].style.transform=`translate(${c*50*(t+.5)}px, ${a*50*(t+.5)}px)`});S.forEach(t=>{t.addEventListener("click",r=>{S.forEach(a=>{r.preventDefault(),a.classList.remove("filter__link--active")}),t.classList.add("filter__link--active");let c=t.dataset.filter;F.forEach(a=>{a.classList.remove("production__item--hide"),!a.classList.contains(c)&&c!=="all"&&a.classList.add("production__item--hide")})})});window.addEventListener("DOMContentLoaded",()=>{let t=document.getElementsByClassName("splide"),r=document.getElementsByClassName("team__item");new Splide(".serials",{type:"loop",perPage:1,perMove:1,padding:{left:0,right:"30%"},arrows:!1,pagination:!1,gap:50}).mount();for(let e=0;e<t.length;e++)e!==0&&(e%2===1?new Splide(t[e],{type:"loop",padding:{left:"50%",right:"50%"},perMove:1,drag:!1,arrows:!1,pagination:!1,direction:"rtl",autoWidth:!0,gap:50,autoScroll:{speed:1,pauseOnHover:!1,pauseOnFocus:!1}}).mount(window.splide.Extensions):new Splide(t[e],{type:"loop",padding:{left:"50%",right:"50%"},perMove:1,drag:!1,arrows:!1,pagination:!1,autoWidth:!0,gap:50,autoScroll:{speed:1,pauseOnHover:!1,pauseOnFocus:!1}}).mount(window.splide.Extensions));for(let e=0;e<r.length;e++)r[e].addEventListener("mouseover",()=>{r[e].classList.add("team__item--active")}),r[e].addEventListener("mouseleave",()=>{r[e].classList.remove("team__item--active")});let c=null,a=null,H=null,x=null;function E(e){let w=Matter.Engine,h=Matter.Render,f=Matter.Runner,i=Matter.Bodies,v=Matter.World,b=Matter.MouseConstraint,L=Matter.Mouse,D=Matter.Bounds,I=Matter.Composite,o=w.create();o.enableSleeping=!0,x=o.world;let B=1,l=e.clientWidth,d=e.clientHeight*B,A=window.devicePixelRatio,m=h.create({element:e,engine:o,options:{wireframes:!0,showAngleIndicator:!1,background:"transparent",showSleeping:!1,width:l,height:d}});Matter.Render.setPixelRatio(m,A);let q=f.create();f.run(q,o);let u={x:30,y:10},g={x:20,y:20};C(),W(),$();let O=.05;o.world.gravity.y=O,Matter.Runner.run(o),h.run(m),window.requestAnimationFrame(_);function C(){v.add(o.world,[i.rectangle(l/2,d+250,l,500,{isStatic:!0,fillStyle:"red",label:"_noMap"}),i.rectangle(l/2,0,l,100,{isStatic:!0,label:"_noMap"}),i.rectangle(-50,d/2,100,d,{isStatic:!0,label:"_noMap"}),i.rectangle(l+50,d/2,100,d,{isStatic:!0,label:"_noMap"})])}function W(){e.querySelectorAll("[data-object]").forEach(n=>{k(n)})}function k(n){let s=n.scrollWidth,p=n.scrollHeight,y=Matter.Bodies.rectangle(u.x*g.y,u.y*g.x,s,p,{label:n.getAttribute("data-object"),density:.8,frictionAir:.01,restitution:.5,friction:.001,render:{fillStyle:"transparent",strokeStyle:"transparent"}},100);v.add(o.world,y),Matter.Sleeping.update(y,50);let j=(Math.random()<.5?-1:1)*(Math.random()*1);Matter.Body.rotate(y,j),R()}function R(){u.x++,u.x*g.x>l-g.x&&(u.y++,u.x=1)}function $(){let n=L.create(m.canvas),s=b.create(o,{mouse:n,constraint:{stiffness:.2,render:{fillStyle:"transparent",strokeStyle:"transparent",visible:!1}}});v.add(o.world,s),n.element.removeEventListener("mousewheel",n.mousewheel),n.element.removeEventListener("DOMMouseScroll",n.mousewheel),m.mouse=n}function _(){Matter.Composite.allBodies(o.world).forEach(s=>{let p=e.querySelector(`[data-object="${s.label}"]`);s.label==="_noMap"||!p||(p.style.setProperty("--move-x",`${s.position.x}px`),p.style.setProperty("--move-y",`${s.position.y}px`),p.style.setProperty("--rotate",`${s.angle}rad`))}),window.requestAnimationFrame(_)}}window.onload=()=>{new IntersectionObserver((w,h)=>{w.forEach(f=>{if(f.isIntersecting){let i=document.querySelector("[data-html-matter]");if(!i)return;E(i)}})},{threshold:.1}).observe(document.querySelector(".rewards__list"))}});
