var P=document.querySelector(".production__filter"),_=Array.from(P.querySelectorAll(".filter__link")),F=Array.from(document.querySelectorAll(".production__item"));_.forEach(r=>{r.addEventListener("click",a=>{_.forEach(l=>{a.preventDefault(),l.classList.remove("filter__link--active")}),r.classList.add("filter__link--active");let g=r.dataset.filter;F.forEach(l=>{l.classList.remove("production__item--hide"),!l.classList.contains(g)&&g!=="all"&&l.classList.add("production__item--hide")})})});window.addEventListener("DOMContentLoaded",()=>{let r=document.getElementsByClassName("splide"),a=document.getElementsByClassName("team__item");new Splide(".serials",{type:"loop",perPage:1,perMove:1,padding:{left:0,right:"30%"},arrows:!1,pagination:!1,gap:50}).mount();for(let e=0;e<r.length;e++)e!==0&&(e%2===1?new Splide(r[e],{type:"loop",padding:{left:"50%",right:"50%"},perMove:1,drag:!1,arrows:!1,pagination:!1,direction:"rtl",autoWidth:!0,gap:50,autoScroll:{speed:1,pauseOnHover:!1,pauseOnFocus:!1}}).mount(window.splide.Extensions):new Splide(r[e],{type:"loop",padding:{left:"50%",right:"50%"},perMove:1,drag:!1,arrows:!1,pagination:!1,autoWidth:!0,gap:50,autoScroll:{speed:1,pauseOnHover:!1,pauseOnFocus:!1}}).mount(window.splide.Extensions));for(let e=0;e<a.length;e++)a[e].addEventListener("mouseover",()=>{a[e].classList.add("team__item--active")}),a[e].addEventListener("mouseleave",()=>{a[e].classList.remove("team__item--active")});let g=null,l=null,$=null,S=null;function E(e){let h=Matter.Engine,w=Matter.Render,p=Matter.Runner,s=Matter.Bodies,v=Matter.World,x=Matter.MouseConstraint,b=Matter.Mouse,D=Matter.Bounds,H=Matter.Composite,n=h.create();n.enableSleeping=!0,S=n.world;let L=1,i=e.clientWidth,c=e.clientHeight*L,B=window.devicePixelRatio,f=w.create({element:e,engine:n,options:{wireframes:!0,showAngleIndicator:!1,background:"transparent",showSleeping:!1,width:i,height:c}});Matter.Render.setPixelRatio(f,B);let A=p.create();p.run(A,n);let d={x:30,y:10},m={x:20,y:20};q(),C(),W();let O=.05;n.world.gravity.y=O,Matter.Runner.run(n),w.run(f),window.requestAnimationFrame(y);function q(){v.add(n.world,[s.rectangle(i/2,c+250,i,500,{isStatic:!0,fillStyle:"red",label:"_noMap"}),s.rectangle(i/2,0,i,100,{isStatic:!0,label:"_noMap"}),s.rectangle(-50,c/2,100,c,{isStatic:!0,label:"_noMap"}),s.rectangle(i+50,c/2,100,c,{isStatic:!0,label:"_noMap"})])}function C(){e.querySelectorAll("[data-object]").forEach(t=>{k(t)})}function k(t){let o=t.scrollWidth,u=t.scrollHeight,M=Matter.Bodies.rectangle(d.x*m.y,d.y*m.x,o,u,{label:t.getAttribute("data-object"),density:.8,frictionAir:.01,restitution:.5,friction:.001,render:{fillStyle:"transparent",strokeStyle:"transparent"}},100);v.add(n.world,M),Matter.Sleeping.update(M,50);let j=(Math.random()<.5?-1:1)*(Math.random()*1);Matter.Body.rotate(M,j),R()}function R(){d.x++,d.x*m.x>i-m.x&&(d.y++,d.x=1)}function W(){let t=b.create(f.canvas),o=x.create(n,{mouse:t,constraint:{stiffness:.2,render:{fillStyle:"transparent",strokeStyle:"transparent",visible:!1}}});v.add(n.world,o),t.element.removeEventListener("mousewheel",t.mousewheel),t.element.removeEventListener("DOMMouseScroll",t.mousewheel),f.mouse=t}function y(){Matter.Composite.allBodies(n.world).forEach(o=>{let u=e.querySelector(`[data-object="${o.label}"]`);o.label==="_noMap"||!u||(u.style.setProperty("--move-x",`${o.position.x}px`),u.style.setProperty("--move-y",`${o.position.y}px`),u.style.setProperty("--rotate",`${o.angle}rad`))}),window.requestAnimationFrame(y)}}window.onload=()=>{new IntersectionObserver((h,w)=>{h.forEach(p=>{if(p.isIntersecting){let s=document.querySelector("[data-html-matter]");if(!s)return;E(s)}})},{threshold:.1}).observe(document.querySelector(".rewards__list"))}});
