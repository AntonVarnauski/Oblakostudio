var M=document.querySelector(".nav__burger"),E=document.querySelector(".mobile__nav"),I=document.querySelectorAll(".mobile__nav a"),h=document.querySelectorAll(".cloud"),F=document.querySelector(".footer__callback"),H=document.querySelector(".modal__close");F.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".modal").showModal()});H.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".modal").close()});M.addEventListener("click",()=>{M.classList.toggle("nav__burger--open"),E.classList.toggle("mobile__nav--open")});I.forEach(e=>{e.addEventListener("click",()=>{M.classList.remove("nav__burger--open"),E.classList.remove("mobile__nav--open")})});for(let e=0;e<h.length;e++)window.addEventListener("mousemove",r=>{let c=r.clientX/window.innerWidth,a=r.clientY/window.innerHeight;e%2===1?h[e].style.transform=`translate(-${c*50*(e+.5)}px, -${a*50*(e+.5)}px)`:h[e].style.transform=`translate(${c*50*(e+.5)}px, ${a*50*(e+.5)}px)`});var N=document.querySelector(".production__filter"),b=Array.from(N.querySelectorAll(".filter__link")),T=Array.from(document.querySelectorAll(".production__item"));b.forEach(e=>{e.addEventListener("click",r=>{b.forEach(a=>{r.preventDefault(),a.classList.remove("filter__link--active")}),e.classList.add("filter__link--active");let c=e.dataset.filter;T.forEach(a=>{a.classList.remove("production__item--hide"),!a.classList.contains(c)&&c!=="all"&&a.classList.add("production__item--hide")})})});window.addEventListener("DOMContentLoaded",()=>{let e=document.getElementsByClassName("splide"),r=document.getElementsByClassName("team__item");new Splide(".serials",{type:"loop",perPage:1,perMove:1,padding:{left:0,right:"30%"},arrows:!1,pagination:!1,gap:50}).mount();for(let t=0;t<e.length;t++)t!==0&&(t%2===1?new Splide(e[t],{type:"loop",padding:{left:"50%",right:"50%"},perMove:1,arrows:!1,pagination:!1,direction:"rtl",autoWidth:!0,gap:50,autoScroll:{speed:1}}).mount(window.splide.Extensions):new Splide(e[t],{type:"loop",padding:{left:"50%",right:"50%"},perMove:1,arrows:!1,pagination:!1,autoWidth:!0,gap:50,autoScroll:{speed:1}}).mount(window.splide.Extensions));for(let t=0;t<r.length;t++)r[t].addEventListener("mouseover",()=>{r[t].classList.add("team__item--active")}),r[t].addEventListener("mouseleave",()=>{r[t].classList.remove("team__item--active")});let c=null,a=null,X=null,L=null;function x(t){let v=Matter.Engine,_=Matter.Render,p=Matter.Runner,s=Matter.Bodies,y=Matter.World,q=Matter.MouseConstraint,B=Matter.Mouse,Y=Matter.Bounds,z=Matter.Composite,o=v.create();o.enableSleeping=!0,L=o.world;let k=1,i=t.clientWidth,d=t.clientHeight*k,A=window.devicePixelRatio,f=_.create({element:t,engine:o,options:{wireframes:!0,showAngleIndicator:!1,background:"transparent",showSleeping:!1,width:i,height:d}});Matter.Render.setPixelRatio(f,A);let C=p.create();p.run(C,o);let u={x:30,y:10},g={x:20,y:20};R(),$(),O();let W=.05;o.world.gravity.y=W,Matter.Runner.run(o),_.run(f),window.requestAnimationFrame(S);function R(){y.add(o.world,[s.rectangle(i/2,d+250,i,500,{isStatic:!0,fillStyle:"red",label:"_noMap"}),s.rectangle(i/2,0,i,100,{isStatic:!0,label:"_noMap"}),s.rectangle(-50,d/2,100,d,{isStatic:!0,label:"_noMap"}),s.rectangle(i+50,d/2,100,d,{isStatic:!0,label:"_noMap"})])}function $(){t.querySelectorAll("[data-object]").forEach(n=>{j(n)})}function j(n){let l=n.scrollWidth,m=n.scrollHeight,w=Matter.Bodies.rectangle(u.x*g.y,u.y*g.x,l,m,{label:n.getAttribute("data-object"),density:.8,frictionAir:.01,restitution:.5,friction:.001,render:{fillStyle:"transparent",strokeStyle:"transparent"}},100);y.add(o.world,w),Matter.Sleeping.update(w,50);let D=(Math.random()<.5?-1:1)*(Math.random()*1);Matter.Body.rotate(w,D),P()}function P(){u.x++,u.x*g.x>i-g.x&&(u.y++,u.x=1)}function O(){let n=B.create(f.canvas),l=q.create(o,{mouse:n,constraint:{stiffness:.2,render:{fillStyle:"transparent",strokeStyle:"transparent",visible:!1}}});y.add(o.world,l),n.element.removeEventListener("mousewheel",n.mousewheel),n.element.removeEventListener("DOMMouseScroll",n.mousewheel),f.mouse=n}function S(){Matter.Composite.allBodies(o.world).forEach(l=>{let m=t.querySelector(`[data-object="${l.label}"]`);l.label==="_noMap"||!m||(m.style.setProperty("--move-x",`${l.position.x}px`),m.style.setProperty("--move-y",`${l.position.y}px`),m.style.setProperty("--rotate",`${l.angle}rad`))}),window.requestAnimationFrame(S)}}window.onload=()=>{new IntersectionObserver((v,_)=>{v.forEach(p=>{if(p.isIntersecting){let s=document.querySelector("[data-html-matter]");if(!s)return;x(s)}})},{threshold:.1}).observe(document.querySelector(".rewards__list"))}});
